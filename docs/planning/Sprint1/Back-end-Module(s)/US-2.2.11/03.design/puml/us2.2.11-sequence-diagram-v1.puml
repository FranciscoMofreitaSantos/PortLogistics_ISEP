@startuml
actor "Logistics Operator" as Operator
boundary "UI" as UI
boundary "RegisterStaffController" as Controller
control "StaffMemberAppService" as Service
entity "StaffMemberRepository" as Repository
collections "Audit Log" as Audit

Operator -> UI : Fill StaffMember form and submit
UI -> Controller : RegisterStaffMember(StaffMemberDTO)
Controller -> Controller : Validate basic fields
alt Validation fails
    Controller --> UI : Return ValidationErrorsDTO
    UI --> Operator : Display validation errors
else Validation succeeds
    Controller -> Service : CreateStaffMember(StaffMemberDTO)
    Service -> Service : Validate business rules
    alt Business validation fails
        Service --> Controller : Return Business ValidationErrorsDTO
        Controller --> UI : Return Business ValidationErrorsDTO
        UI --> Operator : Display business errors
    else Business validation succeeds
        Service -> Service : Generate mecanographic number
        Service -> Repository : Save StaffMember entity
        Repository --> Service : StaffMember entity with ID and mecanographic number
        Service -> Audit : Log creation event
        Service --> Controller : Return StaffMemberSuccessDTO
        Controller --> UI : Return StaffMemberSuccessDTO
        UI --> Operator : Display success message
    end
end
@enduml
