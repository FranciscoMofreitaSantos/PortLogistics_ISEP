<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="915px" preserveAspectRatio="none" style="width:837px;height:915px;background:#FFFFFF;" version="1.1" viewBox="0 0 837 915" width="837px" zoomAndPan="magnify"><defs/><g><!--class Incident--><g class="entity" data-entity="Incident" data-source-line="6" data-uid="ent0002" id="entity_Incident"><rect fill="#F1F1F1" height="157.9063" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="414.3223" x="202.4" y="750.27"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4756" x="382.3233" y="768.8052">Incident</text><line style="stroke:#181818;stroke-width:0.5;" x1="203.4" x2="615.7223" y1="776.7583" y2="776.7583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.1836" x="208.4" y="794.2934">-_id: UniqueEntityID</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.5381" x="208.4" y="810.7817">-props: IncidentProps</text><line style="stroke:#181818;stroke-width:0.5;" x1="203.4" x2="615.7223" y1="817.7348" y2="817.7348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="402.3223" x="208.4" y="835.27">+create(props: IncidentProps, id?: UniqueEntityID): Incident</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247.6865" x="208.4" y="851.7583">+addAffectedVve(vveId: string): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272.5762" x="208.4" y="868.2466">+removeAffectedVve(vveId: string): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.5996" x="208.4" y="884.7348">+markAsResolved(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.3936" x="208.4" y="901.2231">+changeImpactMode(mode: ImpactMode): void</text></g><!--class IIncidentRepo--><g class="entity" data-entity="IIncidentRepo" data-source-line="16" data-uid="ent0003" id="entity_IIncidentRepo"><rect fill="#F1F1F1" height="108.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="369.2734" x="352.92" y="446.37"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92.5723" x="491.2706" y="464.9052">IIncidentRepo</text><line style="stroke:#181818;stroke-width:0.5;" x1="353.92" x2="721.1934" y1="472.8583" y2="472.8583"/><line style="stroke:#181818;stroke-width:0.5;" x1="353.92" x2="721.1934" y1="480.8583" y2="480.8583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307.6855" x="358.92" y="498.3934">+save(incident: Incident): Promise&lt;Incident&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="357.2734" x="358.92" y="514.8817">+findByCode(code: string): Promise&lt;Incident | null&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342.624" x="358.92" y="531.37">+findByVVE(vveCode: string): Promise&lt;Incident[]&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293.5898" x="358.92" y="547.8583">+getActiveIncidents(): Promise&lt;Incident[]&gt;</text></g><!--class IncidentRepo--><g class="entity" data-entity="IncidentRepo" data-source-line="23" data-uid="ent0004" id="entity_IncidentRepo"><rect fill="#F1F1F1" height="75.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="333.8154" x="361.65" y="614.81"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.5391" x="484.2882" y="633.3452">IncidentRepo</text><line style="stroke:#181818;stroke-width:0.5;" x1="362.65" x2="694.4654" y1="641.2983" y2="641.2983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321.8154" x="367.65" y="658.8334">-incidentSchema: Model&lt;IIncidentPersistence&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.1279" x="367.65" y="675.3217">-incidentMap: IncidentMap</text><line style="stroke:#181818;stroke-width:0.5;" x1="362.65" x2="694.4654" y1="682.2748" y2="682.2748"/></g><!--class IIncidentService--><g class="entity" data-entity="IIncidentService" data-source-line="28" data-uid="ent0006" id="entity_IIncidentService"><rect fill="#F1F1F1" height="91.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="628.6426" x="104.24" y="142.46"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105.8408" x="365.6409" y="160.9952">IIncidentService</text><line style="stroke:#181818;stroke-width:0.5;" x1="105.24" x2="731.8826" y1="168.9483" y2="168.9483"/><line style="stroke:#181818;stroke-width:0.5;" x1="105.24" x2="731.8826" y1="176.9483" y2="176.9483"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="459.8809" x="110.24" y="194.4834">+createAsync(dto: IIncidentDTO): Promise&lt;Result&lt;IIncidentDTO&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="555.1602" x="110.24" y="210.9717">+updateAsync(code: string, dto: IIncidentDTO): Promise&lt;Result&lt;IIncidentDTO&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="616.6426" x="110.24" y="227.46">+addVVEToIncidentAsync(code: string, vveCode: string): Promise&lt;Result&lt;IIncidentDTO&gt;&gt;</text></g><!--class IncidentService--><g class="entity" data-entity="IncidentService" data-source-line="34" data-uid="ent0007" id="entity_IncidentService"><rect fill="#F1F1F1" height="91.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="256.0908" x="290.52" y="294.41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.8076" x="367.6616" y="312.9452">IncidentService</text><line style="stroke:#181818;stroke-width:0.5;" x1="291.52" x2="545.6108" y1="320.8983" y2="320.8983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.4717" x="296.52" y="338.4334">-repo: IIncidentRepo</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.0908" x="296.52" y="354.9217">-repoType: IIncidentTypeRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6504" x="296.52" y="371.41">-map: IncidentMap</text><line style="stroke:#181818;stroke-width:0.5;" x1="291.52" x2="545.6108" y1="378.3631" y2="378.3631"/></g><!--class CreateIncidentController--><g class="entity" data-entity="CreateIncidentController" data-source-line="40" data-uid="ent0009" id="entity_CreateIncidentController"><rect fill="#F1F1F1" height="75.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251.1211" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.6191" x="49.251" y="25.5352">CreateIncidentController</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="257.1211" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.7295" x="13" y="51.0234">-service: IIncidentService</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="257.1211" y1="57.9766" y2="57.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239.1211" x="13" y="75.5117">+execute(req, res): Promise&lt;void&gt;</text></g><!--class UpdateIncidentController--><g class="entity" data-entity="UpdateIncidentController" data-source-line="45" data-uid="ent0010" id="entity_UpdateIncidentController"><rect fill="#F1F1F1" height="75.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251.1211" x="293" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.7275" x="333.1968" y="25.5352">UpdateIncidentController</text><line style="stroke:#181818;stroke-width:0.5;" x1="294" x2="543.1211" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.7295" x="299" y="51.0234">-service: IIncidentService</text><line style="stroke:#181818;stroke-width:0.5;" x1="294" x2="543.1211" y1="57.9766" y2="57.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239.1211" x="299" y="75.5117">+execute(req, res): Promise&lt;void&gt;</text></g><!--class AddVVEToIncidentController--><g class="entity" data-entity="AddVVEToIncidentController" data-source-line="50" data-uid="ent0011" id="entity_AddVVEToIncidentController"><rect fill="#F1F1F1" height="75.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251.1211" x="579" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.2656" x="607.9277" y="25.5352">AddVVEToIncidentController</text><line style="stroke:#181818;stroke-width:0.5;" x1="580" x2="829.1211" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.7295" x="585" y="51.0234">-service: IIncidentService</text><line style="stroke:#181818;stroke-width:0.5;" x1="580" x2="829.1211" y1="57.9766" y2="57.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239.1211" x="585" y="75.5117">+execute(req, res): Promise&lt;void&gt;</text></g><!--reverse link IIncidentRepo to IncidentRepo--><g class="link" data-entity-1="IIncidentRepo" data-entity-2="IncidentRepo" data-source-line="24" data-uid="lnk5" id="link_IIncidentRepo_IncidentRepo"><path d="M533.2621,573.2677 C532.0821,592.9377 531.85,596.76 530.78,614.63" fill="none" id="IIncidentRepo-backto-IncidentRepo" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="534.34,555.3,527.2729,572.9084,539.2514,573.627,534.34,555.3" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IIncidentService to IncidentService--><g class="link" data-entity-1="IIncidentService" data-entity-2="IncidentService" data-source-line="35" data-uid="lnk8" id="link_IIncidentService_IncidentService"><path d="M418.56,252.84 C418.56,271.63 418.56,275.37 418.56,294.15" fill="none" id="IIncidentService-backto-IncidentService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="418.56,234.84,412.56,252.84,424.56,252.84,418.56,234.84" style="stroke:#181818;stroke-width:1;"/></g><!--link CreateIncidentController to IIncidentService--><g class="link" data-entity-1="CreateIncidentController" data-entity-2="IIncidentService" data-source-line="55" data-uid="lnk12" id="link_CreateIncidentController_IIncidentService"><path codeLine="55" d="M207.7,82.96 C244.2,101.04 282.994,120.2657 321.454,139.3257" fill="none" id="CreateIncidentController-to-IIncidentService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="326.83,141.99,320.5421,134.4096,322.35,139.7698,316.9898,141.5776,326.83,141.99" style="stroke:#181818;stroke-width:1;"/></g><!--link UpdateIncidentController to IIncidentService--><g class="link" data-entity-1="UpdateIncidentController" data-entity-2="IIncidentService" data-source-line="56" data-uid="lnk13" id="link_UpdateIncidentController_IIncidentService"><path codeLine="56" d="M418.56,82.96 C418.56,101.08 418.56,117.03 418.56,136.12" fill="none" id="UpdateIncidentController-to-IIncidentService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="418.56,142.12,422.56,133.12,418.56,137.12,414.56,133.12,418.56,142.12" style="stroke:#181818;stroke-width:1;"/></g><!--link AddVVEToIncidentController to IIncidentService--><g class="link" data-entity-1="AddVVEToIncidentController" data-entity-2="IIncidentService" data-source-line="57" data-uid="lnk14" id="link_AddVVEToIncidentController_IIncidentService"><path codeLine="57" d="M629.42,82.96 C592.92,101.04 554.1363,120.2663 515.6663,139.3263" fill="none" id="AddVVEToIncidentController-to-IIncidentService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="510.29,141.99,520.1303,141.5787,514.7703,139.7703,516.5787,134.4102,510.29,141.99" style="stroke:#181818;stroke-width:1;"/></g><!--link IncidentService to IIncidentRepo--><g class="link" data-entity-1="IncidentService" data-entity-2="IIncidentRepo" data-source-line="58" data-uid="lnk15" id="link_IncidentService_IIncidentRepo"><path codeLine="58" d="M452.66,386.72 C466.6,405.26 479.2332,422.0451 493.7432,441.3351" fill="none" id="IncidentService-to-IIncidentRepo" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="497.35,446.13,495.1365,436.5331,494.3444,442.1342,488.7432,441.3421,497.35,446.13" style="stroke:#181818;stroke-width:1;"/></g><!--link IncidentRepo to Incident--><g class="link" data-entity-1="IncidentRepo" data-entity-2="Incident" data-source-line="59" data-uid="lnk16" id="link_IncidentRepo_Incident"><path codeLine="59" d="M503.32,690.59 C491.52,707.91 480.3685,724.2916 466.2985,744.9416" fill="none" id="IncidentRepo-to-Incident" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="462.92,749.9,471.2933,744.7147,465.7354,745.768,464.6821,740.21,462.92,749.9" style="stroke:#181818;stroke-width:1;"/></g><!--link IncidentService to Incident--><g class="link" data-entity-1="IncidentService" data-entity-2="Incident" data-source-line="60" data-uid="lnk17" id="link_IncidentService_Incident"><path codeLine="60" d="M371.94,386.64 C357.38,403.81 343.15,424.53 335.56,446.37 C299.95,548.83 317.37,585.26 344.56,690.27 C349.74,710.27 355.2931,725.4242 363.9931,744.4342" fill="none" id="IncidentService-to-Incident" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="366.49,749.89,366.3819,740.0417,364.4093,745.3435,359.1075,743.3709,366.49,749.89" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[jLHDRvmm4BtpAtoaocwKCrfHqKqE7A96sSrUggfoxM6nuWzY6rgQvh_NU1VMOI6g8kM2v7blPjwyiJ6FJ5POOu64aegKMWb0LjSGcG4n9QRg5vDxL61k82eP1KIO9Zna4OwDoQpLx6Tj8ITARjWVG5THv16KI-Bof4NF4K9Bz8FH13r8zbJ3ZRJCjlcrZrTQLIOPs7VTqG4NY6Z05k8fV84O_Jokzkb4ylcOqgmeW5YWkmRYfe7SAJ1EhzmxRgCOzJmDGZNmNrI1zMDcxi4etW2DGuYKMEuX5nKczbPHY8NxE4L3e2U_H16J5dI12Q2yLtmFbV96NI23dGHsZ9zcSlbkTi4ChFfGwla5a_HBk-vw4jzpq3tcexz8rfo7QRlTJJVk-kt4RzyFENkm6R7CsNC4J3p3VXdV0ZyW4nK7qULDJBv4_T0RKeB02Ufiuwk1UGVQC6D14aXVyMznTVB97MOyte1kc0iy1zShCwqaCRKgEV6kjr-3gTosQsvN8PeUtAWhEbG8dL-WzzLp5zQjOwjwPAho_AwcwvxjeJTXQXMXGKltBgfmYcvFGtpRLX1WtR733RDAjvub9dPoKBBsnlVGMach5UUWZstDGKHo9ijx1B-1kBzDhE5fuPIOm83kTGK3F_ZjV7YRRBIq3sWqQzZbPNfUTNRkIVORyYVvuwkoNAQZA_BgNNku_ocFSts37lm7]--></g></svg>